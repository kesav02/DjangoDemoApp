{% extends "base.html" %}

{% block content %}

<div class="col-sm-2"></div>
<div class="col-sm-10">
	{% if form.errors %}
	<p class="error">Your username and password didn't match. Please try again.</p>
	{% else %}
	<p>Please enter your credentials to login to <b>"The Wall"</b> web site</p>
	{% endif %}
</div>

<form id="login-form" class="form-horizontal"  role="form" method="post" action="{% url 'django.contrib.auth.views.login' %}">
{% csrf_token %}
  <div class="form-group">
    <label for="username" class="col-sm-2 control-label">User Name:</label>
    <div class="col-sm-10">
      <input type="username" class="form-control" id="username" placeholder="User Name" maxlength="254" name="username">
    </div>
  </div>
  <div class="form-group">
    <label for="password" class="col-sm-2 control-label">Password</label>
    <div class="col-sm-10">
      <input type="password" name="password" class="form-control" id="password" placeholder="Password">
    </div>
  </div>
  
  <input type="hidden" name="next" value="{{ next }}" />
	
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Sign in</button>
    </div>
  </div>
</form>

<script>
(function($,W,D)
{
    var JQUERY4U = {};
 
    JQUERY4U.UTIL =
    {
        setupFormValidation: function()
        {
            //form validation rules
            $("#login-form").validate({
                rules: {
                    username: "required",
                    password: "required"
                },
                messages: {
                    username: "Please enter your user name",
                    password: "Please provide a password"
                },
                submitHandler: function(form) {
                    form.submit();
                }
            });
        }
    }
 
    //when the dom has loaded setup form validation rules
    $(D).ready(function($) {
        JQUERY4U.UTIL.setupFormValidation();
    });
 
})(jQuery, window, document);
</script>

{% endblock %}